<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kriyansh Patel - Your Financial Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1f2937; /* Dark text for high contrast */
        }
        .hero-section {
            background: linear-gradient(to right, #003973, #005C97);
        }
        .nav-link {
            @apply px-4 py-2 text-white hover:bg-blue-700 rounded-md transition-colors duration-300 font-medium;
        }
        .card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .section-title-underline {
            border-bottom: 3px solid #005C97;
            padding-bottom: 8px;
            display: inline-block;
        }
        .calculator-input {
            @apply w-full p-3 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition text-gray-900;
        }
        .calculator-label {
            @apply block text-sm font-medium text-gray-700 mb-2;
        }
        .btn-primary {
            @apply bg-blue-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-900 transition-all duration-300 transform hover:scale-105 shadow-xl;
        }
        .section-title {
            @apply text-3xl md:text-4xl font-bold text-gray-800 text-center mb-4;
        }
        .section-subtitle {
            @apply text-lg text-gray-600 text-center mb-12 max-w-3xl mx-auto;
        }
        .table-responsive {
            @apply block w-full overflow-x-auto;
        }
        table {
            @apply w-full text-sm text-left text-gray-500;
        }
        thead {
            @apply text-xs text-gray-700 uppercase bg-gray-100;
        }
        @media (max-width: 767px) {
            .responsive-table thead { display: none; }
            .responsive-table tbody, .responsive-table tr, .responsive-table td { display: block; width: 100%; }
            .responsive-table tr { margin-bottom: 1rem; border: 1px solid #e5e7eb; border-radius: 0.5rem; padding: 1rem; }
            .responsive-table td { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px dashed #e5e7eb; }
            .responsive-table td:last-child { border-bottom: none; }
            .responsive-table td::before { content: attr(data-label); font-weight: 600; margin-right: 1rem; text-align: left; }
        }
        Chart.defaults.color = '#374151';
        Chart.defaults.borderColor = 'rgba(0, 0, 0, 0.1)';
        .floating-btn {
            @apply fixed bottom-6 right-6 bg-blue-600 text-white w-16 h-16 rounded-full flex items-center justify-center shadow-lg transition-transform duration-300 hover:scale-110 z-40;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="hero-section p-4 z-50 shadow-md">
        <div class="container mx-auto flex justify-end items-center">
            <div class="hidden md:flex space-x-2">
                <a href="#home" class="nav-link">Home</a>
                <a href="#step-up-sip" class="nav-link">Step-Up SIP</a>
                <a href="#swp" class="nav-link">SWP</a>
                <a href="#contact" class="nav-link contact-link">Contact</a>
            </div>
            <div class="md:hidden">
                <button id="menu-button" class="text-white p-2 rounded-md hover:bg-white/20">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile Dropdown Menu -->
        <div id="dropdown-menu" class="hidden md:hidden mt-4 bg-white rounded-md shadow-xl">
             <a href="#home" class="block px-4 py-3 text-gray-700 hover:bg-blue-500 hover:text-white nav-link">Home</a>
             <a href="#step-up-sip" class="block px-4 py-3 text-gray-700 hover:bg-blue-500 hover:text-white nav-link">Step-Up SIP</a>
             <a href="#swp" class="block px-4 py-3 text-gray-700 hover:bg-blue-500 hover:text-white nav-link">SWP</a>
             <a href="#contact" class="block px-4 py-3 text-gray-700 hover:bg-blue-500 hover:text-white contact-link">Contact</a>
        </div>
    </nav>

    <div id="app-container">
        <!-- Page content will be injected here -->
    </div>

    <!-- Floating Contact Button -->
    <a href="#contact" class="floating-btn contact-link">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor">
            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
        </svg>
    </a>

    <!-- Footer -->
    <footer id="contact" class="bg-gray-800 text-white py-12">
        <div class="container mx-auto text-center px-4">
            <h3 class="text-3xl font-bold mb-6">Get in Touch</h3>
            <p class="text-xl font-semibold">KRIYANSH KIRANKUMAR PATEL</p>
            <p class="text-gray-400 mb-6">AMFI REGISTERED MFD | ARN: 310645</p>
            
            <div class="text-gray-300 space-y-3 mb-8 max-w-md mx-auto">
                <p class="flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" /></svg> 6354374140</p>
                <p class="flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" /><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" /></svg> kriyanshpatel18mf@gmail.com</p>
                <p class="flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" /></svg> VAIDEHI SALES, NEAR SWAMINARAYAN TEMPLE, HADEVA, TAL-MATAR, DIST-KHEDA 388180</p>
            </div>

            <div class="flex flex-wrap justify-center gap-4 mb-8">
                <a href="https://wa.me/916354374140" target="_blank" class="flex items-center bg-green-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-600 transition-transform duration-300 transform hover:scale-105">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M10.894 2.553a1 1 0 00-1.789 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" /></svg>
                    WhatsApp
                </a>
                 <a href="https://www.zfunds.in/visiting-card/aceb7bb6-fd16-4f2a-adfd-6bb4527d7153" target="_blank" class="flex items-center bg-yellow-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-yellow-600 transition-transform duration-300 transform hover:scale-105">
                   <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.528-1.973 6.012 6.012 0 011.912 2.706C16.27 8.47 16 9.026 16 9.5a1.5 1.5 0 01-1.5 1.5h-1A1.5 1.5 0 0112 9.5V9a2 2 0 00-4 0v.5A1.5 1.5 0 016.5 11h-1A1.5 1.5 0 014 9.5c0-.474.27-1.027.332-1.473z" clip-rule="evenodd" /></svg>
                    Digital Card & App
                </a>
            </div>
            
            <p class="text-xs text-gray-400 mt-8">
                Mutual Fund investments are subject to market risks, read all scheme related documents carefully.
            </p>
        </div>
    </footer>

    <script>
        // --- PAGE ROUTING ---
        const appContainer = document.getElementById('app-container');
        const routes = {
            '#home': `
                <main>
                     <!-- Header / Hero Section -->
                    <header class="hero-section text-white p-6 md:p-12">
                        <div class="container mx-auto max-w-6xl">
                            <div class="flex flex-col md:flex-row items-center gap-8">
                                <div class="w-48 h-48 md:w-56 md:h-56 flex-shrink-0">
                                   <a href="https://ibb.co/QFqr7Ytj"><img src="https://i.ibb.co/QFqr7Ytj/kriyansh-photo-final.png"                                         alt="kriyansh-photo-final"
                                         class="rounded-full w-full h-full object-cover border-4 border-white shadow-lg"
                                         onerror="this.onerror=null;this.src='https://placehold.co/224x224/003973/FFFFFF?text=Kriyansh+P.';">
                                </div>
                                <div class="text-center md:text-left">
                                    <h1 class="text-4xl md:text-5xl font-bold">Kriyansh Kirankumar Patel</h1>
                                    <p class="text-xl md:text-2xl mt-2 text-blue-200">Your Personal Guide to Financial Growth</p>
                                    <p class="mt-4 text-lg">AMFI Registered Mutual Fund Distributor (ARN: 310645) <br> associated with <span class="font-semibold">ZFunds</span></p>
                                </div>
                            </div>
                        </div>
                    </header>

                    <!-- Main Content Wrapper -->
                    <div class="container mx-auto max-w-6xl p-6 md:p-10">
                        <!-- About Me Section -->
                        <section id="about" class="my-10">
                            <div class="card p-8">
                                <h2 class="text-3xl font-bold text-gray-800 mb-4 text-center section-title-underline">Hello! I'm Kriyansh.</h2>
                                <p class="text-center text-gray-600 text-lg max-w-3xl mx-auto mt-8">
                                    As a dedicated financial guide, I bring a fresh and modern approach to helping you achieve your financial dreams. My goal is to simplify the world of investing, making it accessible, understandable, and tailored to your personal goals. Let's build your future, together.
                                </p>
                            </div>
                        </section>

                        <!-- What is a Mutual Fund? Section -->
                        <section id="what-is-mf" class="my-16">
                             <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center section-title-underline">What is a Mutual Fund?</h2>
                             <div class="card p-8 flex flex-col md:flex-row items-center gap-8">
                                 <div class="md:w-1/3 text-center">
                                     <div class="text-8xl">🍽️</div>
                                     <h3 class="text-2xl font-semibold text-gray-700 mt-2">It's like a Financial 'Thali'</h3>
                                 </div>
                                 <div class="md:w-2/3 text-gray-600 text-lg">
                                     <p class="mb-4">Imagine a 'Thali' (platter) with various dishes. You get to taste a bit of everything, giving you a complete meal and reducing the risk if one dish isn't great.</p>
                                     <ul class="list-disc list-inside space-y-2">
                                         <li>Many investors (like you) pool their money together.</li>
                                         <li>A professional Fund Manager invests this money into a mix of assets (stocks, bonds, etc.).</li>
                                         <li>You own a small piece of this big platter, which we call 'units'.</li>
                                     </ul>
                                 </div>
                             </div>
                        </section>

                        <!-- Why Mutual Funds? Section -->
                        <section id="why-mf" class="my-16">
                            <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center section-title-underline">Why Invest in Mutual Funds?</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                <div class="card p-6 text-center"><div class="icon-bg w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4"><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><h3 class="text-xl font-semibold text-gray-800">Professional Expertise</h3><p class="text-gray-600 mt-2">Your money is managed by experts who research the market full-time.</p></div>
                                <div class="card p-6 text-center"><div class="icon-bg w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4"><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><h3 class="text-xl font-semibold text-gray-800">Diversification</h3><p class="text-gray-600 mt-2">Don't put all your eggs in one basket. Reduce risk by investing in many assets.</p></div>
                                <div class="card p-6 text-center"><div class="icon-bg w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4"><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div><h3 class="text-xl font-semibold text-gray-800">Start Small</h3><p class="text-gray-600 mt-2">You can start with as little as ₹100 a day (Daily SIP) or ₹500 a month.</p></div>
                                <div class="card p-6 text-center"><div class="icon-bg w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4"><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div><h3 class="text-xl font-semibold text-gray-800">Power of SIP</h3><p class="text-gray-600 mt-2">Invest regularly through a Systematic Investment Plan (SIP) to build wealth over time.</p></div>
                                <div class="card p-6 text-center"><div class="icon-bg w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4"><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.373 3.373 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg></div><h3 class="text-xl font-semibold text-gray-800">Goal-Oriented</h3><p class="text-gray-600 mt-2">Whether for retirement, a car, or tax saving, there's a fund for every goal.</p></div>
                                <div class="card p-6 text-center"><div class="icon-bg w-16 h-16 rounded-full mx-auto flex items-center justify-center mb-4"><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><h3 class="text-xl font-semibold text-gray-800">Convenience</h3><p class="text-gray-600 mt-2">It's easy to invest, track your portfolio, and withdraw money when needed.</p></div>
                            </div>
                        </section>
                        
                        <!-- The Magic of SIP Section -->
                        <section id="sip-magic" class="my-16">
                            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-8 text-center section-title-underline">The Magic of SIP</h1>
                            <div class="card p-6 md:p-8">
                                <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">The Best Way to Build Wealth</h2>
                                <p class="text-center text-gray-600 text-lg mb-10">
                                    A Systematic Investment Plan (SIP) is powerful because it makes investing automatic and disciplined. Here’s how it works for you:
                                </p>

                                <!-- 1. Rupee Cost Averaging -->
                                <div class="mb-12">
                                    <h3 class="text-2xl font-semibold text-blue-800 mb-3">1. Rupee Cost Averaging</h3>
                                    <p class="text-gray-600 mb-6">
                                        You automatically buy more units when the market is low and fewer when it's high. This lowers your average purchase cost over time, helping you benefit from market volatility instead of fearing it.
                                    </p>
                                   
                                    <p class="font-semibold text-gray-700 mb-4">Example: Investing ₹5,000 per month in a volatile market.</p>
                                    <div class="flex flex-col lg:flex-row gap-8 items-start">
                                        <!-- RCA Table -->
                                        <div class="w-full lg:w-1/2 overflow-x-auto">
                                            <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                                                <thead class="bg-gray-100">
                                                    <tr>
                                                        <th class="py-2 px-4 border-b text-left text-sm font-semibold text-gray-600">Month</th>
                                                        <th class="py-2 px-4 border-b text-right text-sm font-semibold text-gray-600">Invested</th>
                                                        <th class="py-2 px-4 border-b text-right text-sm font-semibold text-gray-600">NAV (₹)</th>
                                                        <th class="py-2 px-4 border-b text-right text-sm font-semibold text-gray-600">Units Allotted</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">1</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">10.0</td><td class="py-2 px-4 border-b text-right font-medium text-green-600">500</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">2</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">11.0</td><td class="py-2 px-4 border-b text-right font-medium text-red-600">455</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">3</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">11.5</td><td class="py-2 px-4 border-b text-right font-medium text-red-600">435</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">5</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">10.0</td><td class="py-2 px-4 border-b text-right font-medium text-green-600">500</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">6</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">9.3</td><td class="py-2 px-4 border-b text-right font-medium text-green-600">538</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">7</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">8.0</td><td class="py-2 px-4 border-b text-right font-medium text-green-600">625</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">8</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">7.0</td><td class="py-2 px-4 border-b text-right font-medium text-green-600">714</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">9</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">6.0</td><td class="py-2 px-4 border-b text-right font-medium text-green-600">833</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">10</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">9.0</td><td class="py-2 px-4 border-b text-right font-medium text-green-600">556</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">11</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">11.0</td><td class="py-2 px-4 border-b text-right font-medium text-red-600">455</td></tr>
                                                    <tr class="hover:bg-gray-50"><td class="py-2 px-4 border-b">12</td><td class="py-2 px-4 border-b text-right">5,000</td><td class="py-2 px-4 border-b text-right">13.0</td><td class="py-2 px-4 border-b text-right font-medium text-red-600">385</td></tr>
                                                </tbody>
                                                <tfoot class="bg-gray-100 font-bold">
                                                    <tr><td class="py-2 px-4">Total</td><td class="py-2 px-4 text-right">₹55,000</td><td class="py-2 px-4 text-right">-</td><td class="py-2 px-4 text-right">5,996</td></tr>
                                                </tfoot>
                                            </table>
                                            <div class="mt-4 p-4 bg-blue-50 rounded-lg text-center">
                                                <p class="text-gray-700">Final Value (5,996 units @ ₹13 NAV)</p>
                                                <p class="text-2xl font-bold text-blue-800">₹77,948</p>
                                            </div>
                                        </div>
                                        <!-- RCA Chart -->
                                        <div class="w-full lg:w-1/2 mt-6 lg:mt-0 relative h-80">
                                            <canvas id="rupeeCostAveragingChart"></canvas>
                                        </div>
                                    </div>
                                </div>

                                <hr class="my-12 border-t border-gray-200">

                                <!-- 2. Power of Compounding -->
                                <div>
                                    <h3 class="text-2xl font-semibold text-green-800 mb-3">2. The Power of Compounding</h3>
                                    <p class="text-gray-600 mb-6">
                                        This is the real magic. It's not just about how much you invest, but for <strong>how long</strong>. The earlier you start, the more time your money has to grow exponentially.
                                    </p>
                                    <div class="bg-green-50 border-l-4 border-green-500 p-6 rounded-r-lg">
                                        <h4 class="text-xl font-bold text-gray-800 mb-4">The Tale of Two Friends: Who Finishes Richer?</h4>
                                        <div class="flex flex-col md:flex-row gap-6">
                                            <div class="md:w-1/2">
                                                <p class="text-3xl mb-2">🐢</p>
                                                <p class="font-bold text-lg text-green-700">Early Bird Ankit</p>
                                                <ul class="list-disc list-inside text-gray-700">
                                                    <li>Starts at age <strong>25</strong></li>
                                                    <li>Invests ₹5,000/month for <strong>10 years</strong></li>
                                                    <li>Stops investing at age 35</li>
                                                    <li><strong>Total Investment: ₹6 Lakh</strong></li>
                                                </ul>
                                            </div>
                                             <div class="md:w-1/2">
                                                <p class="text-3xl mb-2">🐇</p>
                                                <p class="font-bold text-lg text-blue-700">Latecomer Priya</p>
                                                <ul class="list-disc list-inside text-gray-700">
                                                    <li>Starts at age <strong>35</strong></li>
                                                    <li>Invests ₹5,000/month for <strong>25 years</strong></li>
                                                    <li>Invests until age 60</li>
                                                    <li><strong>Total Investment: ₹15 Lakh</strong></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                   
                                    <div class="mt-8">
                                        <p class="font-semibold text-gray-700 mb-4 text-center">Let's see how their wealth grows until they both turn 60 (assuming 15% annual return).</p>
                                        <div class="w-full relative h-80">
                                            <canvas id="compoundingChart"></canvas>
                                        </div>
                                        <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-center rounded-r-lg">
                                            <p class="text-lg font-semibold text-gray-800">The Result at Age 60:</p>
                                            <p class="text-gray-700">Ankit, who invested only ₹6 Lakh, ends up with <strong class="text-green-700 text-xl">~₹4.58 Crore</strong>.</p>
                                             <p class="text-gray-700">Priya, despite investing ₹15 Lakh, ends up with <strong class="text-blue-700 text-xl">~₹1.64 Crore</strong>.</p>
                                             <p class="mt-4 font-bold text-xl text-yellow-800">Ankit wins because his money had 10 extra years to compound!</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>

                    <!-- SIP Calculator & Services Section (Unchanged) -->
                    <section id="sip-calculator-section" class="py-20 px-4 bg-blue-50">
                        <div class="container mx-auto grid lg:grid-cols-5 gap-8">
                            <!-- SIP Calculator Column -->
                            <div class="lg:col-span-3">
                                <h2 class="section-title section-title-underline">SIP Calculator</h2>
                                <div class="card p-8 mt-8">
                                    <div class="max-w-4xl mx-auto">
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
                                            <div><label for="sip-amount" class="calculator-label">Monthly Investment (₹)</label><input type="number" id="sip-amount" class="calculator-input" value="5000"></div>
                                            <div><label for="sip-rate" class="calculator-label">Expected Return (% p.a.)</label><input type="number" id="sip-rate" class="calculator-input" value="12"></div>
                                            <div class="sm:col-span-2"><label for="sip-years" class="calculator-label">Investment Period (Years)</label><input type="number" id="sip-years" class="calculator-input" value="15"></div>
                                        </div>
                                        <div class="mt-8 text-center"><button id="calculate-sip-btn" class="btn-primary">Calculate</button></div>
                                    </div>
                                    
                                    <div id="sip-result-container" class="hidden border-t pt-10 mt-10">
                                        <div class="grid md:grid-cols-2 gap-12 items-center mb-10"><div class="text-center space-y-6 bg-gray-100 p-8 rounded-2xl"><div><p class="text-lg text-gray-700">Invested Amount</p><p id="sip-invested" class="font-bold text-3xl text-gray-800"></p></div><div><p class="text-lg text-gray-700">Estimated Returns</p><p id="sip-returns" class="font-bold text-3xl text-green-600"></p></div><div><p class="text-xl text-blue-800">Total Value</p><p id="sip-total" class="font-extrabold text-5xl text-blue-800"></p></div></div><div class="max-w-sm mx-auto"><canvas id="sipPieChart"></canvas></div></div>
                                        <div class="my-10"><h3 class="text-2xl font-bold text-center mb-6">Investment Growth Over Time</h3><div class="max-w-4xl mx-auto h-80"><canvas id="sipGrowthLineChart"></canvas></div></div>
                                        <h3 class="text-2xl font-bold text-center mb-6">Year-wise Projection</h3><div class="overflow-x-auto rounded-lg shadow"><table class="w-full responsive-table"><thead><tr><th class="px-4 py-3">Year</th><th class="px-4 py-3">Opening Balance</th><th class="px-4 py-3">Invested Amount</th><th class="px-4 py-3">Interest Earned</th><th class="px-4 py-3">Closing Balance</th></tr></thead><tbody id="sip-yearly-breakdown"></tbody></table></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Services Column -->
                            <div class="lg:col-span-2">
                                <h2 class="section-title section-title-underline">Our Services</h2>
                                <div class="card p-8 mt-8 space-y-4">
                                    <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:shadow-md hover:bg-white transition-all duration-300">
                                        <div class="w-12 h-12 mr-4 text-4xl flex items-center justify-center">📊</div>
                                        <div><h3 class="font-bold text-lg text-gray-800">Mutual Fund</h3></div>
                                    </div>
                                    <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:shadow-md hover:bg-white transition-all duration-300">
                                        <div class="w-12 h-12 mr-4 text-4xl flex items-center justify-center">🗓️</div>
                                        <div><h3 class="font-bold text-lg text-gray-800">SIP</h3></div>
                                    </div>
                                    <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:shadow-md hover:bg-white transition-all duration-300">
                                        <div class="w-12 h-12 mr-4 text-4xl flex items-center justify-center">🏧</div>
                                        <div><h3 class="font-bold text-lg text-gray-800">SWP</h3></div>
                                    </div>
                                    <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:shadow-md hover:bg-white transition-all duration-300">
                                        <div class="w-12 h-12 mr-4 text-4xl flex items-center justify-center">📈</div>
                                        <div><h3 class="font-bold text-lg text-gray-800">Step-Up SIP</h3></div>
                                    </div>
                                    <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:shadow-md hover:bg-white transition-all duration-300">
                                        <div class="w-12 h-12 mr-4 text-4xl flex items-center justify-center">🪙</div>
                                        <div><h3 class="font-bold text-lg text-gray-800">Digital Gold</h3></div>
                                    </div>
                                    <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:shadow-md hover:bg-white transition-all duration-300">
                                        <div class="w-12 h-12 mr-4 text-4xl flex items-center justify-center">🏦</div>
                                        <div><h3 class="font-bold text-lg text-gray-800">Fixed Deposit</h3></div>
                                    </div>
                                    <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:shadow-md hover:bg-white transition-all duration-300">
                                        <div class="w-12 h-12 mr-4 text-4xl flex items-center justify-center">🔗</div>
                                        <div><h3 class="font-bold text-lg text-gray-800">Loan Against Mutual Fund</h3></div>
                                    </div>
                                    <div class="flex items-center p-4 bg-gray-50 rounded-lg hover:shadow-md hover:bg-white transition-all duration-300">
                                        <div class="w-12 h-12 mr-4 text-4xl flex items-center justify-center">🛡️</div>
                                        <div><h3 class="font-bold text-lg text-gray-800">Tax Saving</h3></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </main>
            `,
            '#step-up-sip': `<main class="py-20 px-4 bg-blue-50">
                <div class="container mx-auto">
                    <section id="step-up-sip-magic" class="my-8 max-w-5xl mx-auto">
                        <h1 class="text-4xl font-bold text-gray-800 mb-8 text-center section-title-underline" style="border-color: #7c3aed;">The Magic of Step-up SIP</h1>
                        <div class="card p-6 md:p-8">
                            <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Accelerate Your Journey to Wealth</h2>
                            <p class="text-center text-gray-600 text-lg mb-10">
                                A Step-up SIP is like putting your investments on an escalator. It helps you reach your financial goals significantly faster by aligning your investments with your growing income.
                            </p>

                            <div class="mb-12">
                                <h3 class="text-2xl font-semibold text-violet-800 mb-3">What is a Step-up SIP?</h3>
                                <p class="text-gray-600 mb-6">
                                    A Step-up SIP (or Top-up SIP) is a facility that allows you to automatically increase your SIP amount by a fixed percentage or amount at regular intervals, usually once a year. As your salary grows each year, your investments should too!
                                </p>
                            </div>

                            <hr class="my-12 border-t border-gray-200">

                            <div>
                                <h3 class="text-2xl font-semibold text-violet-800 mb-3">How a Small Step Creates a Giant Leap</h3>
                                <p class="text-gray-600 mb-6">
                                   Let's see how a simple annual increase can make a huge difference over the long term.
                                </p>
                                <div class="bg-violet-50 border-l-4 border-violet-500 p-6 rounded-r-lg">
                                    <h4 class="text-xl font-bold text-gray-800 mb-4">The Race to a Dream Vacation</h4>
                                    <div class="flex flex-col md:flex-row gap-6">
                                        <div class="md:w-1/2">
                                            <p class="text-3xl mb-2">🚶‍♂️</p>
                                            <p class="font-bold text-lg text-blue-700">Steady Investor Rohan</p>
                                            <ul class="list-disc list-inside text-gray-700">
                                                <li>Starts a regular SIP of <strong>₹10,000</strong> per month.</li>
                                                <li>He invests this fixed amount for <strong>15 years</strong>.</li>
                                                <li><strong>Total Investment: ₹18 Lakh</strong></li>
                                            </ul>
                                        </div>
                                         <div class="md:w-1/2">
                                            <p class="text-3xl mb-2">🚀</p>
                                            <p class="font-bold text-lg text-violet-700">Smart Investor Meera</p>
                                            <ul class="list-disc list-inside text-gray-700">
                                                <li>Starts a SIP of <strong>₹10,000</strong> per month.</li>
                                                <li>Uses a Step-up SIP to increase it by <strong>10% every year</strong>.</li>
                                                <li><strong>Total Investment: ₹39.5 Lakh</strong></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                               
                                <div class="mt-8">
                                    <p class="font-semibold text-gray-700 mb-4 text-center">Let's see how their wealth grows over 15 years (assuming 12% annual return).</p>
                                    <div class="w-full relative h-80">
                                        <canvas id="stepUpSipMagicChart"></canvas>
                                    </div>
                                    <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-center rounded-r-lg">
                                        <p class="text-lg font-semibold text-gray-800">The Result After 15 Years:</p>
                                        <p class="text-gray-700">Rohan's regular SIP grows to <strong class="text-blue-700 text-xl">~₹50.4 Lakh</strong>.</p>
                                         <p class="text-gray-700">Meera's Step-up SIP grows to an incredible <strong class="text-violet-700 text-xl">~₹96.6 Lakh</strong>!</p>
                                         <p class="mt-4 font-bold text-xl text-yellow-800">Meera nearly doubled her wealth by taking small, smart steps every year!</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <h2 class="section-title mt-16">Step-Up SIP Calculator</h2>
                    <div class="card max-w-6xl mx-auto p-8"><div class="max-w-4xl mx-auto"><div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6"><div><label for="stepup-amount" class="calculator-label">Initial Monthly SIP (₹)</label><input type="number" id="stepup-amount" class="calculator-input" value="5000"></div><div><label for="stepup-increase" class="calculator-label">Annual Step-Up (%)</label><input type="number" id="stepup-increase" class="calculator-input" value="10"></div><div><label for="stepup-rate" class="calculator-label">Expected Return (% p.a.)</label><input type="number" id="stepup-rate" class="calculator-input" value="12"></div><div><label for="stepup-years" class="calculator-label">Time Period (Years)</label><input type="number" id="stepup-years" class="calculator-input" value="20"></div></div><div class="mt-8 text-center"><button id="calculate-stepup-btn" class="btn-primary">Calculate Comparison</button></div></div><div id="stepup-result-container" class="hidden border-t pt-10 mt-10"><div class="grid lg:grid-cols-5 gap-12 mb-10"><div class="lg:col-span-3 space-y-8"><div class="grid grid-cols-2 gap-6 text-center"><div class="bg-gray-100 p-6 rounded-2xl"><h4 class="font-bold text-lg mb-2">Normal SIP Value</h4><p id="normal-total" class="font-bold text-3xl text-gray-800"></p><p class="text-sm text-gray-600 mt-2">Invested: <span id="normal-invested" class="font-semibold"></span></p></div><div class="bg-blue-100 p-6 rounded-2xl border border-blue-300"><h4 class="font-bold text-lg mb-2">Step-Up SIP Value</h4><p id="stepup-total" class="font-bold text-3xl text-blue-800"></p><p class="text-sm text-blue-700 mt-2">Invested: <span id="stepup-invested" class="font-semibold"></span></p></div></div><div class="text-center bg-green-100 p-6 rounded-2xl"><p class="text-lg font-semibold text-green-800">Additional Wealth Created</p><p id="stepup-difference" class="text-4xl font-extrabold text-green-700"></p></div></div><div class="lg:col-span-2 flex items-center h-80"><canvas id="stepUpComparisonChart"></canvas></div></div><h3 class="text-2xl font-bold text-center mb-6">Year-wise Comparison</h3><div class="overflow-x-auto rounded-lg shadow"><table class="w-full responsive-table"><thead><tr><th class="px-4 py-3">Year</th><th class="px-4 py-3">Normal Invested</th><th class="px-4 py-3">Normal Balance</th><th class="px-4 py-3">Step-Up Invested</th><th class="px-4 py-3">Step-Up Balance</th></tr></thead><tbody id="stepup-yearly-breakdown"></tbody></table></div></div></div></div></main>`,
            '#swp': `<main class="py-20 px-4 bg-blue-50"><div class="container mx-auto">
                        <section id="swp-magic" class="my-8 max-w-5xl mx-auto">
                            <h1 class="text-4xl font-bold text-gray-800 mb-8 text-center section-title-underline" style="border-color: #047857;">The Magic of SWP</h1>
                            <div class="card p-6 md:p-8">
                                <h2 class="text-2xl font-bold text-center text-gray-800 mb-4">Create Your Own Regular Income</h2>
                                <p class="text-center text-gray-600 text-lg mb-10">
                                    A Systematic Withdrawal Plan (SWP) is the perfect tool for turning your investments into a steady source of cash flow, like a self-made pension.
                                </p>

                                <div class="mb-12">
                                    <h3 class="text-2xl font-semibold text-emerald-800 mb-3">What is a Systematic Withdrawal Plan?</h3>
                                    <p class="text-gray-600 mb-6">
                                        An SWP is the reverse of a SIP. Instead of investing a fixed amount every month, you withdraw a fixed amount from your mutual fund investment every month. It's designed to provide you with a regular income while the rest of your money stays invested and continues to grow.
                                    </p>
                                </div>

                                <hr class="my-12 border-t border-gray-200">

                                <div>
                                    <h3 class="text-2xl font-semibold text-emerald-800 mb-3">How SWP Creates a Smart Pension</h3>
                                    <p class="text-gray-600 mb-6">
                                       Let's see how an SWP can provide a better, tax-efficient income than a traditional option like a Fixed Deposit (FD).
                                    </p>
                                    <div class="bg-emerald-50 border-l-4 border-emerald-500 p-6 rounded-r-lg">
                                        <h4 class="text-xl font-bold text-gray-800 mb-4">The Tale of a Retired Teacher</h4>
                                        <div class="flex flex-col md:flex-row gap-6">
                                            <div class="md:w-1/2">
                                                <p class="text-3xl mb-2">👨‍🏫</p>
                                                <p class="font-bold text-lg text-gray-700">Mr. Sharma retires with a corpus of <strong class="text-emerald-700">₹50 Lakh</strong>.</p>
                                                <p class="text-gray-700 mt-2">He needs a monthly income of <strong class="text-emerald-700">₹30,000</strong> to manage his expenses.</p>
                                                <p class="text-gray-700 mt-2">He decides to use an SWP from a mutual fund.</p>
                                            </div>
                                            <div class="md:w-1/2">
                                                <p class="font-bold text-lg text-gray-700">The Plan:</p>
                                                <ul class="list-disc list-inside text-gray-700">
                                                    <li>Initial Investment: <strong>₹50,00,000</strong></li>
                                                    <li>Monthly Withdrawal: <strong>₹30,000</strong></li>
                                                    <li>Annual Withdrawal: <strong>₹3,60,000</strong></li>
                                                    <li>Assumed Annual Return: <strong>15%</strong></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                   
                                    <div class="mt-8">
                                        <p class="font-semibold text-gray-700 mb-4 text-center">Let's see how his investment performs over 10 years.</p>
                                        <div class="w-full relative h-80">
                                            <canvas id="swpMagicChart"></canvas>
                                        </div>
                                        <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-center rounded-r-lg">
                                            <p class="text-lg font-semibold text-gray-800">The Result After 10 Years:</p>
                                            <p class="text-gray-700">Mr. Sharma has withdrawn a total of <strong class="text-blue-700 text-xl">₹36 Lakh</strong> over 10 years.</p>
                                             <p class="text-gray-700">Even after withdrawing so much, his remaining corpus has grown to <strong class="text-green-700 text-xl">~₹1.24 Crore</strong>!</p>
                                             <p class="mt-4 font-bold text-xl text-yellow-800">His money grew faster than his withdrawals. That's the magic of SWP!</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                        <h2 class="section-title mt-16">SWP Calculator</h2>
                        <div class="card max-w-6xl mx-auto p-8"><div class="max-w-4xl mx-auto"><div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6"><div><label for="swp-corpus" class="calculator-label">Total Investment (₹)</label><input type="number" id="swp-corpus" class="calculator-input" value="10000000"></div><div><label for="swp-withdrawal" class="calculator-label">Monthly Withdrawal (₹)</label><input type="number" id="swp-withdrawal" class="calculator-input" value="50000"></div><div><label for="swp-rate" class="calculator-label">Expected Return (% p.a.)</label><input type="number" id="swp-rate" class="calculator-input" value="8"></div><div><label for="swp-years" class="calculator-label">Time Period (Years)</label><input type="number" id="swp-years" class="calculator-input" value="20"></div></div><div class="mt-8 text-center"><button id="calculate-swp-btn" class="btn-primary">Calculate SWP</button></div></div><div id="swp-result-container" class="hidden border-t pt-10 mt-10"><div class="grid lg:grid-cols-2 gap-12 items-center mb-10"><div class="text-center space-y-8 bg-gray-100 p-8 rounded-2xl"><div><p class="text-lg text-gray-700">Total Withdrawn</p><p id="swp-total-withdrawn" class="font-bold text-3xl text-gray-800"></p></div><div><p class="text-xl text-blue-800">Final Value of Investment</p><p id="swp-final-value" class="font-extrabold text-5xl text-blue-800"></p></div></div><div class="max-w-sm mx-auto"><canvas id="swpPieChart"></canvas></div></div><h3 class="text-2xl font-bold text-center mb-6">Year-wise Projection</h3><div class="overflow-x-auto rounded-lg shadow"><table class="w-full responsive-table"><thead><tr><th class="px-4 py-3">Year</th><th class="px-4 py-3">Opening Balance</th><th class="px-4 py-3">Annual Withdrawal</th><th class="px-4 py-3">Interest Earned</th><th class="px-4 py-3">Closing Balance</th></tr></thead><tbody id="swp-yearly-breakdown"></tbody></table></div></div></div></div></main>`,
        };

        function navigate() {
            const path = window.location.hash || '#home';
            appContainer.innerHTML = routes[path] || routes['#home'];
            window.scrollTo(0, 0);
            
            if (path === '#home') {
                initSipCalculator();
                initSipMagicCharts();
            }
            else if (path === '#step-up-sip') {
                initStepUpCalculator();
                initStepUpMagicChart();
            }
            else if (path === '#swp') {
                initSwpCalculator();
                initSwpMagicChart();
            }
        }

        window.addEventListener('hashchange', navigate);
        document.addEventListener('DOMContentLoaded', () => {
            initNavigation();
            navigate();
        });
        
        function initNavigation() {
            const menuButton = document.getElementById('menu-button');
            const dropdownMenu = document.getElementById('dropdown-menu');
            if (!menuButton) return;

            menuButton.addEventListener('click', (e) => {
                e.stopPropagation();
                dropdownMenu.classList.toggle('hidden');
            });

            document.addEventListener('click', (e) => {
                const link = e.target.closest('.nav-link, .contact-link');
                if (link) {
                    e.preventDefault();
                    const href = link.getAttribute('href');
                    
                    if (dropdownMenu && !dropdownMenu.classList.contains('hidden')) {
                        dropdownMenu.classList.add('hidden');
                    }

                    if (href === '#contact') {
                        document.getElementById('contact')?.scrollIntoView({ behavior: 'smooth' });
                    } else {
                        window.location.hash = href;
                    }
                } else if (menuButton && dropdownMenu && !menuButton.contains(e.target) && !dropdownMenu.contains(e.target)) {
                    dropdownMenu.classList.add('hidden');
                }
            });
        }

        const formatCurrency = (num) => new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(num);
        const formatCompactCurrency = (num) => {
            if (Math.abs(num) >= 10000000) return `₹ ${(num / 10000000).toFixed(2)} Cr`;
            if (Math.abs(num) >= 100000) return `₹ ${(num / 100000).toFixed(2)} L`;
            return formatCurrency(num);
        };

        let sipPieChartInstance, sipGrowthLineChartInstance, stepUpChartInstance, swpPieChartInstance, rcaChartInstance, compoundingChartInstance, swpMagicChartInstance, stepUpMagicChartInstance;

        function initSipCalculator() {
            const calculateBtn = document.getElementById('calculate-sip-btn');
            if (!calculateBtn) return;
            
            calculateBtn.addEventListener('click', () => {
                const P = parseFloat(document.getElementById('sip-amount').value);
                const r = parseFloat(document.getElementById('sip-rate').value) / 100;
                const n = parseInt(document.getElementById('sip-years').value);
                
                if (isNaN(P) || isNaN(r) || isNaN(n) || P <= 0 || r < 0 || n <= 0) {
                    alert("Please enter valid positive numbers for all fields.");
                    return;
                }

                const i = r / 12;
                const investedAmount = P * n * 12;
                const tableBody = document.getElementById('sip-yearly-breakdown');
                tableBody.innerHTML = '';
                let openingBalance = 0;
                const lineChartLabels = ['Year 0'], lineChartInvestedData = [0], lineChartValueData = [0];

                for (let year = 1; year <= n; year++) {
                    let interestForYear = 0;
                    let yearlyInvestment = 0;
                    for (let month = 1; month <= 12; month++) {
                        const currentBalance = openingBalance + yearlyInvestment + P;
                        interestForYear += currentBalance * i;
                        yearlyInvestment += P;
                    }
                    
                    const closingBalance = openingBalance + yearlyInvestment + interestForYear;
                    const cumulativeInvestment = P * 12 * year;
                    
                    const row = `<tr><td data-label="Year" class="font-medium text-gray-900">${year}</td><td data-label="Opening Balance">${formatCompactCurrency(openingBalance)}</td><td data-label="Invested Amount">${formatCompactCurrency(cumulativeInvestment)}</td><td data-label="Interest Earned">${formatCompactCurrency(interestForYear)}</td><td data-label="Closing Balance" class="font-semibold text-blue-800">${formatCompactCurrency(closingBalance)}</td></tr>`;
                    tableBody.innerHTML += row;
                    openingBalance = closingBalance;

                    lineChartLabels.push(`Year ${year}`);
                    lineChartInvestedData.push(cumulativeInvestment);
                    lineChartValueData.push(closingBalance);
                }
                const totalValue = openingBalance;
                const returns = totalValue - investedAmount;

                document.getElementById('sip-invested').textContent = formatCompactCurrency(investedAmount);
                document.getElementById('sip-returns').textContent = formatCompactCurrency(returns);
                document.getElementById('sip-total').textContent = formatCompactCurrency(totalValue);
                
                document.getElementById('sip-result-container').classList.remove('hidden');

                if (sipPieChartInstance) sipPieChartInstance.destroy();
                sipPieChartInstance = new Chart(document.getElementById('sipPieChart')?.getContext('2d'), {
                    type: 'pie',
                    data: { labels: ['Total Investment', 'Estimated Returns'], datasets: [{ data: [investedAmount, returns], backgroundColor: ['#3b82f6', '#22c55e'], borderWidth: 0 }] },
                    options: { responsive: true, plugins: { legend: { position: 'top', labels: { color: '#1f2937'} } } }
                });

                if (sipGrowthLineChartInstance) sipGrowthLineChartInstance.destroy();
                sipGrowthLineChartInstance = new Chart(document.getElementById('sipGrowthLineChart')?.getContext('2d'), {
                    type: 'line',
                    data: { labels: lineChartLabels, datasets: [{ label: 'Total Investment', data: lineChartInvestedData, borderColor: '#6b7280', backgroundColor: '#6b728033', fill: true }, { label: 'Investment Value', data: lineChartValueData, borderColor: '#1d4ed8', backgroundColor: '#1d4ed833', fill: true }] },
                    options: { responsive: true, maintainAspectRatio: false }
                });
            });
        }
        
        function initSipMagicCharts() {
            const rcaCtx = document.getElementById('rupeeCostAveragingChart')?.getContext('2d');
            if(rcaCtx) {
                if (rcaChartInstance) rcaChartInstance.destroy();
                rcaChartInstance = new Chart(rcaCtx, {
                    data: {
                        labels: ['M1', 'M2', 'M3', 'M5', 'M6', 'M7', 'M8', 'M9', 'M10', 'M11', 'M12'],
                        datasets: [{
                            type: 'bar',
                            label: 'Units Allotted',
                            data: [500, 455, 435, 500, 538, 625, 714, 833, 556, 455, 385],
                            backgroundColor: 'rgba(59, 130, 246, 0.5)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            yAxisID: 'y1',
                        }, {
                            type: 'line',
                            label: 'NAV (₹)',
                            data: [10, 11, 11.5, 10, 9.3, 8, 7, 6, 9, 11, 13],
                            borderColor: '#F97316',
                            backgroundColor: 'rgba(249, 115, 22, 0.1)',
                            tension: 0.3,
                            pointBackgroundColor: '#F97316',
                            pointRadius: 5,
                            yAxisID: 'y',
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: { mode: 'index', intersect: false },
                        plugins: {
                            title: { display: true, text: 'Visualizing Market Fluctuation', font: { size: 16 } },
                        },
                        scales: {
                            y: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'NAV (₹)' }, beginAtZero: true },
                            y1: { type: 'linear', display: true, position: 'right', title: { display: true, text: 'Units' }, grid: { drawOnChartArea: false } }
                        }
                    }
                });
            }

            const compoundingCtx = document.getElementById('compoundingChart')?.getContext('2d');
            if(compoundingCtx) {
                const years = Array.from({length: 36}, (_, i) => i + 25);
                
                function calculateGrowth(startAge, investmentAge, monthlySip, rate) {
                    let balance = 0;
                    const monthlyRate = rate / 12;
                    let data = [];

                    for (let age = 25; age <= 60; age++) {
                        if (age >= startAge) {
                            for(let month=1; month<=12; month++){
                                if(age < investmentAge) {
                                    balance += monthlySip;
                                }
                                balance *= (1 + monthlyRate);
                            }
                        }
                        data.push(balance > 0 ? balance : null);
                    }
                    return data;
                }

                const ankitData = calculateGrowth(25, 35, 5000, 0.15);
                const priyaData = calculateGrowth(35, 60, 5000, 0.15);

                if (compoundingChartInstance) compoundingChartInstance.destroy();
                compoundingChartInstance = new Chart(compoundingCtx, {
                    type: 'line',
                    data: {
                        labels: years,
                        datasets: [
                            {
                                label: 'Ankit\'s Wealth (Starts at 25)',
                                data: ankitData,
                                borderColor: '#16A34A',
                                backgroundColor: 'rgba(22, 163, 74, 0.1)',
                                fill: true,
                                pointRadius: 0,
                                tension: 0.4
                            },
                            {
                                label: 'Priya\'s Wealth (Starts at 35)',
                                data: priyaData,
                                borderColor: '#2563EB',
                                backgroundColor: 'rgba(37, 99, 235, 0.1)',
                                fill: true,
                                pointRadius: 0,
                                tension: 0.4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: { display: true, text: 'The Race to ₹1 Crore: Ankit vs. Priya', font: { size: 16 } },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) { label += ': '; }
                                        if (context.parsed.y !== null) { label += new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(context.parsed.y); }
                                        return label;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: { title: { display: true, text: 'Age' } },
                            y: {
                                ticks: { callback: function(value) { return '₹' + (value / 100000) + 'L'; } },
                                title: { display: true, text: 'Wealth Accumulated' }
                            }
                        }
                    }
                });
            }
        }
        
        function initStepUpCalculator() {
            const calculateBtn = document.getElementById('calculate-stepup-btn');
            if (!calculateBtn) return;
            
            calculateBtn.addEventListener('click', () => {
                const P = parseFloat(document.getElementById('stepup-amount').value);
                const r = parseFloat(document.getElementById('stepup-rate').value) / 100;
                const n = parseInt(document.getElementById('stepup-years').value);
                const stepUpPercent = parseFloat(document.getElementById('stepup-increase').value) / 100;

                const i = r / 12;
                const tableBody = document.getElementById('stepup-yearly-breakdown');
                tableBody.innerHTML = '';
                let normalBalance = 0, stepUpBalance = 0, cumulativeNormalInvested = 0, cumulativeStepUpInvested = 0, currentSip = P;

                for (let year = 1; year <= n; year++) {
                    for (let month = 1; month <= 12; month++) {
                        normalBalance = (normalBalance + P) * (1 + i);
                        stepUpBalance = (stepUpBalance + currentSip) * (1 + i);
                    }
                    cumulativeNormalInvested += P * 12;
                    cumulativeStepUpInvested += currentSip * 12;
                    
                    const row = `<tr><td data-label="Year" class="font-medium text-gray-900">${year}</td><td data-label="Normal Invested">${formatCompactCurrency(cumulativeNormalInvested)}</td><td data-label="Normal Balance" class="font-semibold text-gray-800">${formatCompactCurrency(normalBalance)}</td><td data-label="Step-Up Invested">${formatCompactCurrency(cumulativeStepUpInvested)}</td><td data-label="Step-Up Balance" class="font-semibold text-blue-800">${formatCompactCurrency(stepUpBalance)}</td></tr>`;
                    tableBody.innerHTML += row;

                    if (year < n) currentSip *= (1 + stepUpPercent);
                }

                document.getElementById('normal-invested').textContent = formatCompactCurrency(cumulativeNormalInvested);
                document.getElementById('normal-total').textContent = formatCompactCurrency(normalBalance);
                document.getElementById('stepup-invested').textContent = formatCompactCurrency(cumulativeStepUpInvested);
                document.getElementById('stepup-total').textContent = formatCompactCurrency(stepUpBalance);
                document.getElementById('stepup-difference').textContent = formatCompactCurrency(stepUpBalance - normalBalance);
                
                document.getElementById('stepup-result-container').classList.remove('hidden');

                if (stepUpChartInstance) stepUpChartInstance.destroy();
                stepUpChartInstance = new Chart(document.getElementById('stepUpComparisonChart')?.getContext('2d'), {
                    type: 'bar',
                    data: { labels: ['Normal SIP', 'Step-Up SIP'], datasets: [{ label: 'Invested Amount', data: [cumulativeNormalInvested, cumulativeStepUpInvested], backgroundColor: '#9ca3af' }, { label: 'Total Value', data: [normalBalance, stepUpBalance], backgroundColor: '#3b82f6' }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { tooltip: { callbacks: { label: (c) => `${c.dataset.label}: ${formatCurrency(c.raw)}` } } }, scales: { y: { ticks: { callback: (v) => new Intl.NumberFormat('en-IN', {notation: 'compact', compactDisplay: 'short'}).format(v) } } } }
                });
            });
        }

        function initStepUpMagicChart() {
            const stepUpCtx = document.getElementById('stepUpSipMagicChart')?.getContext('2d');
            if(!stepUpCtx) return;

            function calculateSipGrowth(initialSip, years, annualRate, stepUpRate = 0) {
                let balance = 0;
                let currentSip = initialSip;
                const monthlyRate = annualRate / 12;
                let data = [0];

                for (let year = 1; year <= years; year++) {
                    for (let month = 1; month <= 12; month++) {
                        balance += currentSip;
                        balance *= (1 + monthlyRate);
                    }
                    currentSip *= (1 + stepUpRate);
                    data.push(balance);
                }
                return data;
            }

            const years = 15;
            const labels = Array.from({length: years + 1}, (_, i) => `Year ${i}`);
            
            const rohanData = calculateSipGrowth(10000, years, 0.12, 0);
            const meeraData = calculateSipGrowth(10000, years, 0.12, 0.10);

            if (stepUpMagicChartInstance) stepUpMagicChartInstance.destroy();
            stepUpMagicChartInstance = new Chart(stepUpCtx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Rohan (Regular SIP)',
                            data: rohanData,
                            borderColor: '#3B82F6', // Blue-500
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true,
                            tension: 0.4,
                            pointRadius: 0
                        },
                        {
                            label: 'Meera (Step-up SIP)',
                            data: meeraData,
                            borderColor: '#8B5CF6', // Violet-500
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            fill: true,
                            tension: 0.4,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: 'Regular SIP vs. Step-up SIP Growth', font: { size: 16 } },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.parsed.y !== null) { label += new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(context.parsed.y); }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Years of Investment' }
                        },
                        y: {
                            ticks: { callback: function(value) { return '₹' + (value / 100000) + 'L'; } },
                            title: { display: true, text: 'Wealth Accumulated (in Lakhs)' }
                        }
                    }
                }
            });
        }

        function initSwpCalculator() {
            const calculateBtn = document.getElementById('calculate-swp-btn');
            if(!calculateBtn) return;

            calculateBtn.addEventListener('click', () => {
                let corpus = parseFloat(document.getElementById('swp-corpus').value);
                const withdrawal = parseFloat(document.getElementById('swp-withdrawal').value);
                const annualRate = parseFloat(document.getElementById('swp-rate').value) / 100;
                const years = parseInt(document.getElementById('swp-years').value);

                const monthlyRate = Math.pow(1 + annualRate, 1/12) - 1;
                let totalWithdrawn = 0;
                const tableBody = document.getElementById('swp-yearly-breakdown');
                tableBody.innerHTML = '';
                let openingBalance = corpus;

                for (let year = 1; year <= years; year++) {
                    let interestForYear = 0, yearlyWithdrawal = 0, tempBalance = openingBalance;
                    for (let month = 1; month <= 12; month++) {
                        let interestThisMonth = tempBalance * monthlyRate;
                        interestForYear += interestThisMonth;
                        tempBalance += interestThisMonth;
                        tempBalance -= withdrawal;
                        yearlyWithdrawal += withdrawal;
                    }
                    totalWithdrawn += yearlyWithdrawal;
                    const closingBalance = tempBalance > 0 ? tempBalance : 0;
                    
                    const row = `<tr><td data-label="Year" class="font-medium text-gray-900">${year}</td><td data-label="Opening Balance">${formatCompactCurrency(openingBalance)}</td><td data-label="Annual Withdrawal">${formatCompactCurrency(yearlyWithdrawal)}</td><td data-label="Interest Earned">${formatCompactCurrency(interestForYear)}</td><td data-label="Closing Balance" class="font-semibold text-blue-800">${formatCompactCurrency(closingBalance)}</td></tr>`;
                    tableBody.innerHTML += row;
                    openingBalance = closingBalance;
                }
                
                const finalValue = openingBalance;
                document.getElementById('swp-total-withdrawn').textContent = formatCompactCurrency(totalWithdrawn);
                document.getElementById('swp-final-value').textContent = formatCompactCurrency(finalValue);
                
                document.getElementById('swp-result-container').classList.remove('hidden');

                if (swpPieChartInstance) swpPieChartInstance.destroy();
                swpPieChartInstance = new Chart(document.getElementById('swpPieChart')?.getContext('2d'), {
                    type: 'pie',
                    data: { labels: ['Total Withdrawn', 'Final Value'], datasets: [{ data: [totalWithdrawn, finalValue], backgroundColor: ['#9ca3af', '#3b82f6'], borderWidth: 0 }] },
                    options: { responsive: true, plugins: { legend: { position: 'top', labels: { color: '#1f2937'} } } }
                });
            });
        }

        function initSwpMagicChart() {
            const swpCtx = document.getElementById('swpMagicChart')?.getContext('2d');
            if(!swpCtx) return;
            
            function calculateSwpGrowth(initialCorpus, annualWithdrawal, annualRate, years) {
                let balance = initialCorpus;
                const monthlyWithdrawal = annualWithdrawal / 12;
                const monthlyRate = Math.pow(1 + annualRate, 1/12) - 1;
                
                let data = [initialCorpus];
                let withdrawalData = [0];

                for (let year = 1; year <= years; year++) {
                    let yearlyWithdrawalTotal = 0;
                    for (let month = 1; month <= 12; month++) {
                        balance = balance * (1 + monthlyRate);
                        balance -= (annualWithdrawal / 12);
                        yearlyWithdrawalTotal += (annualWithdrawal / 12);
                    }
                    data.push(balance);
                    withdrawalData.push(withdrawalData[withdrawalData.length - 1] + yearlyWithdrawalTotal);
                }
                return { balanceData: data, totalWithdrawalData: withdrawalData };
            }

            const years = 10;
            const labels = Array.from({length: years + 1}, (_, i) => `Year ${i}`);
            const swpData = calculateSwpGrowth(5000000, 360000, 0.15, years);

            if (swpMagicChartInstance) swpMagicChartInstance.destroy();
            swpMagicChartInstance = new Chart(swpCtx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Remaining Corpus',
                            data: swpData.balanceData,
                            backgroundColor: '#10B981', // Emerald-500
                            borderColor: '#059669',
                            order: 2
                        },
                        {
                            label: 'Total Withdrawn',
                            data: swpData.totalWithdrawalData,
                            backgroundColor: '#3B82F6', // Blue-500
                            borderColor: '#2563EB',
                            order: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: 'SWP Growth: ₹50 Lakh Corpus with ₹30k/month withdrawal', font: { size: 16 } },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.parsed.y !== null) { label += new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', maximumFractionDigits: 0 }).format(context.parsed.y); }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            stacked: true,
                            title: { display: true, text: 'Years' }
                        },
                        y: {
                            stacked: true,
                            ticks: { callback: function(value) { return '₹' + (value / 100000) + 'L'; } },
                            title: { display: true, text: 'Amount (in Lakhs)' }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>
